# 快速開始指南 - 測試二多用戶並發測試

## 🚀 快速啟動

### 1. 啟動應用
```bash
# 確保Ollama服務器正在運行
ollama serve

# 啟動測試工具
python app.py
```

### 2. 打開瀏覽器
訪問 `http://localhost:5000`

## 🎯 測試二使用步驟

### 步驟1: 選擇模型
- 在「測試二 - 多用戶並發測試」區域
- 從下拉選單選擇要測試的模型
- 建議使用 `llama3:8b` 或其他較小的模型

### 步驟2: 配置測試參數
- **模擬用戶數量**: 選擇1-10個用戶（新手建議選2個）
- **每用戶查詢次數**: 設定每個用戶執行的查詢次數（建議3-5次）
- **最大並發限制**: 控制同時執行的查詢數量（建議5個）
- **查詢間隔**: 設定查詢之間的時間間隔（建議0.5秒）

### 步驟3: 選擇提示詞來源
- **推薦**: 選擇「使用內建50組隨機提示詞」
- **進階**: 選擇「使用自定義提示詞」並輸入自己的提示詞

### 步驟4: 啟動測試
- 點擊「開始多用戶測試」按鈕
- 觀察實時進度和TPM統計
- 等待測試完成

## 📊 結果解讀

### TPM指標
- **平均TPM**: 整個測試期間的平均每分鐘Token數
- **峰值TPM**: 測試期間的最高TPM值
- **總Token數**: 所有成功查詢回傳的Token總數

### 性能指標
- **成功率**: 成功查詢的百分比
- **平均響應時間**: 所有查詢的平均響應時間
- **總查詢數**: 所有用戶執行的查詢總數

## 🔧 推薦配置

### 輕量測試 (適合初次使用)
- 用戶數量: 2個
- 每用戶查詢: 3次
- 並發限制: 2個
- 查詢間隔: 0.5秒

### 中等測試 (適合性能評估)
- 用戶數量: 5個
- 每用戶查詢: 4次
- 並發限制: 3個
- 查詢間隔: 0.3秒

### 高負載測試 (適合壓力測試)
- 用戶數量: 8個
- 每用戶查詢: 5次
- 並發限制: 5個
- 查詢間隔: 0.2秒

## ⚠️ 注意事項

### 系統要求
- 確保有足夠的RAM和GPU記憶體
- Ollama服務器正常運行
- 選擇的模型已正確載入

### 測試建議
- 從小規模測試開始
- 逐步增加用戶數量和查詢次數
- 監控系統資源使用情況
- 記錄不同配置下的測試結果

### 故障排除
- 如果測試失敗，檢查模型是否可用
- 如果TPM為0，確認模型能正常回應
- 如果測試卡住，可能是並發數設定過高

## 🎨 界面功能

### 預覽配置
- 點擊「預覽配置」按鈕查看詳細的測試配置
- 顯示預期的總查詢數和估計時間
- 可複製配置到剪貼板

### 實時監控
- 測試進度百分比
- 當前TPM值
- 活躍用戶數
- 即時日誌更新

### 停止測試
- 可隨時點擊「停止測試」按鈕中止測試
- 系統會安全地停止所有正在進行的查詢
- 顯示已完成部分的統計結果

## 📈 性能優化建議

### 硬體優化
- 使用GPU加速的模型
- 確保足夠的系統記憶體
- 使用SSD存儲提高I/O性能

### 配置優化
- 根據硬體能力調整並發限制
- 適當設定查詢間隔避免過載
- 選擇合適的模型大小

### 測試策略
- 建立基準測試結果
- 比較不同配置下的性能
- 記錄最佳配置參數
- 定期進行性能回歸測試

## 🔍 進階功能

### 自定義提示詞
- 可輸入特定領域的測試提示詞
- 每行一個提示詞
- 系統會隨機分配給不同用戶

### 詳細日誌
- 啟用詳細日誌記錄所有查詢細節
- 包含每個查詢的響應時間和Token數
- 便於深入分析性能問題

### TPM監控
- 實時計算每分鐘Token數量
- 提供峰值和平均值統計
- 幫助評估模型的實際吞吐量

## 📞 技術支持

如果遇到問題，請檢查：
1. Ollama服務器是否正常運行
2. 選擇的模型是否可用
3. 系統資源是否充足
4. 網路連接是否穩定

更多詳細信息請參考：
- `TEST2_README.md` - 詳細功能說明
- `README.md` - 完整項目文檔
- 即時日誌 - 查看具體錯誤信息
